### Контекст:

Вы — аналитик команды, которая разрабатывает программное обеспечение для автомата, печатающего фото из Instagram.

На встрече с представителем заказчика выяснили, что автомат должен работать следующим образом:
1. При нажатии на кнопку «Выбрать фото для печати» на главном экране пользователю предложены 2 способа — выбрать фото в Instagram или загрузить фото с телефона.
1. Для выбора фото из Instagram пользователю необходимо указать свой логин. Профиль пользователя должен быть открытым.
1. Для выбора фото с телефона, пользователю нужно соединить телефон с автоматом для печати фото через кабель для зарядки.
1. Пользователь может выбрать количество фотографий для печати через экран автомата. Минимальное количество фото — 1, максимальное — 100 (если в автомате достаточно бумаги).
1. Оплатить печать фото можно только по карте через физический терминал бесконтактной оплаты.
1. Печать фото запускается после успешной оплаты выбранного пакета фотографий.
1. Если пользователь вводил логин Instagram для печати фотографий, то после завершения печати его страница в автомате должна быть закрыта.
1. Если пользователь присоединял телефон для печати фотографий, то после завершения печати автомат будет сигнализировать о необходимости забрать телефон.

### Задание:

1. Напишите минимум 5 формализованных требований к разрабатываемому программному обеспечению (желательно разных типов, но на ваше усмотрение).
1. Подготовьте диаграмму вариантов использования, покрывающую описанные в контексте действия.
1. Подготовьте текстовое описание любого варианта использования из получившейся на шаге 2 диаграммы.
1. *(не обязательно) подумайте и опишите словами, обработку каких системных ошибок нужно учесть при реализации программного обеспечения.*

---

### 1. Требования к разрабатываемому ПО

| Идентификатор | Требование |
| :------: | ------ |
| | **Требования функционального характера** |
| БТ001 | Необходимо автоматизировать рутинные операции по печати фотографий пользователей для увеличения производительности труда сотрудников фотостудии |
| ПТ001 | Пользователь должен иметь возможность выбрать способ загрузки фото (см. СТ001) |
| ФТ001 | Система должна проверять, открыт ли профиль пользователя в Instagram по введенному логину |
| ФТ002 | Система должна проверять, достаточно ли бумаги для печати количества фото, введенного пользователем |
| ФТ003 | Система должна сообщать о необходимости забрать телефон при завершении сессии обслуживания |
| ФТ004 | Система должна закрывать профиль пользователя в Instagram и удалять загруженные фото при завершении сессии обслуживания |
| | **Требования нефункционального характера** |
| БП001 | Система должна соответствовать положениям Федерального закона РФ от 27 июля 2006 года № 152-ФЗ «О персональных данных» |
| СТ001 | Система должна поддерживать два способа загрузки фото пользователя: выбор фото в открытом профиле Instagram или загрузка фото с подключенного телефона |
| АК001 | Допустимое количество фото для печати — от 1 до 100 шт. |
| ВС001 | Для загрузки фото из Instagram должен использоваться протокол HTTPS |
| ТО001 | ПО должно работать на ОС Debian версии не ниже 10 |

---

### 2. Use-case диаграмма

![Use-case diagram](/requirements-final/use-case-diagram.png)

---

### 3. Описание варианта использования «Напечатать фото»

**UC-1** Напечатать фото

**Краткое описание:** Пользователь использует автомат, чтобы напечатать фотографии.

**Действующие лица:** Пользователь.

**Триггер:** Пользователь нажимает на кнопку «Выбрать фото для печати» на главном экране.

**Предусловия:** ПО для печати фотографий запущено на автомате. Отсутствуют открытые сессии печати.

**Основной поток:** 
1. Управление переходит к варианту использования *UC-2 Выбрать источник фото*.
1. Система отображает на экране доступные для печати фотографии из выбранного источника.
1. Пользователь выбирает фотографии, которые хочет распечатать.
1. Система маркирует фотографии, отмеченные пользователем.
1. Управление переходит к варианту использования *UC-3 Проверить количество листов бумаги*.
1. **Если** количества бумаги в автомате достаточно для печати выбранного количества фотографий, то управление переходит на следующий шаг.
1. Пользователь подтверждает печать выбранных фотографий.
1. Управление переходит к варианту использования *UC-4 Оплатить заказ*.
1. **Если** система получает любой отклик от терминала бесконтактной оплаты в течение 10 минут, то управление переходит на следующий шаг.
1. **Если** терминал бесконтактной оплаты подтвердил успешное проведение платежа, то управление переходит на следующий шаг.
1. Система печатает выбранные фотографии.
1. **Если** пользователь выбирал фотографии из профиля Instagram, то управление переходит к варианту использования *UC-5 Вывести сообщение о закрытии страницы Instagram*.
1. **Если** пользователь выбирал фотографии из профиля Instagram, то управление переходит к варианту использования *UC-6 Вывести сообщение о необходимости забрать телефон*.
1. Вариант использования завершает свою работу.

**Альтернативный поток:**

**6а.** В автомате недостаточно листов бумаги для печати выбранного количества фотографий.
1. Система выводит уведомление о недостаточном количестве бумаги в устройстве.
1. Система выводит доступное количество листов бумаги.
1. Управление переходит на шаг 3 основного потока.

**10а.** Терминал бесконтактной оплаты сообщил об отклонении платежа.
1. Система выводит сообщение об отклонении платежа.
1. Управление переходит на шаг 8 основного потока.

***Поток исключения:***

**9а.** Пользователь не произвел оплату заказа в течение 10 минут.
1. Если пользователь выбирал фотографии из профиля Instagram, то управление переходит к варианту использования *UC-5 Вывести сообщение о закрытии страницы Instagram*.
1. Если пользователь выбирал фотографии из профиля Instagram, то управление переходит к варианту использования *UC-6 Вывести сообщение о необходимости забрать телефон*.
1. Вариант использования завершает свою работу.

**Постусловие:** В случае успешного выполнения основного потока, система распечатывает выбранные пользователем фотографии.

**Результат:** Пользователь печатает фотографии.

---

### 4. Обработка системных ошибок

Необходимо предусмотреть обработку следующих системных ошибок:
1. Отсутствие интернет-соединения автомата.
1. Неисправность/отсутствие связи с терминалом оплаты.
1. Неисправность/неготовность печатающего устройства.
1. Переполнение памяти автомата (например, из-за неправильной работы с логами).
1. Память подключенного телефона недоступна для чтения.
